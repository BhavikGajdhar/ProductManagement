"use strict";(self.webpackChunksale_product=self.webpackChunksale_product||[]).push([[563],{1563:function(e,a,s){s.r(a),s.d(a,{UserProfileFormContainer:function(){return N}});var t=s(885),l=s(2791),i=s(6871),r=s(7273),n=s(4569),m=s.n(n),d=s(8880),c=s(5705),o=s(773),u=s(184),x=o.Ry().shape({firstName:o.Z_().trim().required("FirstName is required").nullable(),lastName:o.Z_().trim().required("LastName is required"),email:o.Z_().trim().required("Email is required.")}),f=function(e){var a,s=(0,d.D3)().user,i=(0,l.useState)(null===s||void 0===s||null===(a=s.nickname)||void 0===a?void 0:a.split(".")),r=(0,t.Z)(i,1)[0],n={firstName:r[0],lastName:r[1],email:null===s||void 0===s?void 0:s.email},o=(0,l.useState)(n),f=(0,t.Z)(o,2),N=f[0],h=f[1],p=(0,l.useState)(!0),j=(0,t.Z)(p,1)[0],v={firstName:N.firstName,lastName:N.lastName,email:N.email,id:N.id};(0,l.useEffect)((function(){m().get("http://localhost:4500/user/").then((function(e){h(e.data[0])}))}),[]);return(0,u.jsx)("div",{className:"flex-grow flex justify-center",children:(0,u.jsxs)("div",{className:"w-full lg:w-1/2",children:[(0,u.jsx)("div",{className:"flex justify-center",children:(0,u.jsx)("figure",{className:"my-6",children:(0,u.jsx)("img",{className:"w-16 h-16 rounded-full object-cover",src:null===s||void 0===s?void 0:s.picture,alt:""})})}),(0,u.jsx)(c.J9,{initialValues:v||n,enableReinitialize:!0,validationSchema:x,onSubmit:function(a){!function(a){a.id&&e.updateUser(a)}(a)},children:function(e){var a=e.values,t=e.handleChange;return(0,u.jsx)(c.l0,{children:(0,u.jsxs)("div",{className:"flex flex-col space-y-5 mt-8 px-6",children:[(0,u.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,u.jsx)("label",{className:"text-sm text-gray-400",htmlFor:"name",children:"First Name"}),(0,u.jsx)(c.gN,{className:"border px-3 py-2 rounded bg-gray-100 font-medium",type:"text",name:"firstName",id:"firstName",value:a.firstName,onChange:t}),(0,u.jsx)(c.Bc,{name:"firstName",component:"small",className:"error font-semibold text-red-500"})]}),(0,u.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,u.jsx)("label",{className:"text-sm text-gray-400",htmlFor:"name",children:"Last Name"}),(0,u.jsx)(c.gN,{className:"border px-3 py-2 rounded bg-gray-100 font-medium",type:"text",name:"lastName",id:"lastName",value:a.lastName,onChange:t}),(0,u.jsx)(c.Bc,{name:"lastName",component:"small",className:"error font-semibold text-red-500"})]}),(0,u.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,u.jsx)("label",{className:"text-sm text-gray-400",htmlFor:"name",children:"Email Address"}),(0,u.jsx)(c.gN,{className:"border px-3 py-2 rounded bg-gray-100 font-medium",type:"text",name:"email",id:"email",value:null===s||void 0===s?void 0:s.email,onChange:t,disabled:j}),(0,u.jsx)(c.Bc,{name:"email",component:"small",className:"error font-semibold text-red-500"})]}),(0,u.jsx)("div",{className:"flex justify-center ",children:(0,u.jsx)("button",{className:"bg-sky-500 text-white px-9 py-1 rounded",children:"Edit"})})]})})}})]})})},N=function(e){var a=(0,l.useState)(),s=(0,t.Z)(a,2),n=s[0],d=s[1],c=(0,i.s0)();(0,l.useEffect)((function(){m().get("http://localhost:4500/addToCart/").then((function(e){d(e.data.length)}))}),[]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r.h,{value:n}),(0,u.jsx)(f,{updateUser:function(e){!function(e,a){m().put("http://localhost:4500/user/"+e,a)}(e.id,e),c("/")}})]})}}}]);
//# sourceMappingURL=563.dc7f318b.chunk.js.map