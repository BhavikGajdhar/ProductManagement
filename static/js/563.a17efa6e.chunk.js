"use strict";(self.webpackChunksale_product=self.webpackChunksale_product||[]).push([[563],{7273:function(e,s,t){t.d(s,{h:function(){return o}});var a=t(3504),i=t(8880),l=t(184),n=function(){var e=(0,i.D3)(),s=e.loginWithRedirect,t=e.isAuthenticated;return(0,l.jsx)(l.Fragment,{children:!t&&(0,l.jsx)("button",{onClick:function(){return s()},children:"Log In"})})},r=function(){var e=(0,i.D3)(),s=e.logout,t=e.isAuthenticated;return(0,l.jsx)(l.Fragment,{children:t&&(0,l.jsx)("button",{className:"bg-red-500 text-white px-4 py-2",onClick:function(){return s({returnTo:window.location.origin})},children:"Log Out"})})},c=function(){var e=(0,i.D3)(),s=e.user,t=e.isAuthenticated;return e.isLoading?(0,l.jsx)("div",{children:"Loading!"}):(0,l.jsx)("div",{children:t?(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(a.rU,{to:"/userProfile",children:(0,l.jsx)("img",{className:"w-12",src:null===s||void 0===s?void 0:s.picture})}),(0,l.jsx)("h2",{children:null===s||void 0===s?void 0:s.nickname})]}):null})},d=t(1904),o=(t(2791),function(e){var s=(0,i.D3)().isAuthenticated;return(0,l.jsxs)("div",{className:"flex justify-between items-center px-6 py-4 bg-gray-100 shadow-md sticky top-0",children:[(0,l.jsx)(a.rU,{to:"/",children:(0,l.jsx)("h1",{className:"text-lg md:text-2xl font-semibold",children:"E-Commerce App"})}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)(n,{}),(0,l.jsx)(r,{}),(0,l.jsx)(c,{}),s&&(0,l.jsx)(a.rU,{to:"/cart",children:(0,l.jsxs)("div",{className:"cart relative",children:[(0,l.jsx)("span",{className:"bg-sky-300 px-2 py-1 py rounded-full text-xs absolute left-5 -top-2",children:e.value}),(0,l.jsx)("img",{className:"w-8",src:d})]})})]})]})})},1563:function(e,s,t){t.r(s),t.d(s,{UserProfileFormContainer:function(){return h}});var a=t(885),i=t(2791),l=t(6871),n=t(7273),r=t(4569),c=t.n(r),d=t(8880),o=t(5705),m=t(773),u=t(184),x=m.Ry().shape({firstName:m.Z_().trim().required("FirstName is required").nullable(),lastName:m.Z_().trim().required("LastName is required"),email:m.Z_().trim().required("Email is required.")}),f=function(e){var s,t=(0,d.D3)().user,l=(0,i.useState)(null===t||void 0===t||null===(s=t.nickname)||void 0===s?void 0:s.split(".")),n=(0,a.Z)(l,1)[0],r={firstName:n[0],lastName:n[1],email:null===t||void 0===t?void 0:t.email},m=(0,i.useState)(r),f=(0,a.Z)(m,2),h=f[0],p=f[1],N=(0,i.useState)(!0),j=(0,a.Z)(N,1)[0],v={firstName:h.firstName,lastName:h.lastName,email:h.email,id:h.id};(0,i.useEffect)((function(){c().get("http://localhost:4500/user/").then((function(e){p(e.data[0])}))}),[]);return(0,u.jsx)("div",{className:"flex-grow flex justify-center",children:(0,u.jsxs)("div",{className:"w-full lg:w-1/2",children:[(0,u.jsx)("div",{className:"flex justify-center",children:(0,u.jsx)("figure",{className:"my-6",children:(0,u.jsx)("img",{className:"w-16 h-16 rounded-full object-cover",src:null===t||void 0===t?void 0:t.picture,alt:""})})}),(0,u.jsx)(o.J9,{initialValues:v||r,enableReinitialize:!0,validationSchema:x,onSubmit:function(s){!function(s){s.id&&e.updateUser(s)}(s)},children:function(e){var s=e.values,a=e.handleChange;return(0,u.jsx)(o.l0,{children:(0,u.jsxs)("div",{className:"flex flex-col space-y-5 mt-8 px-6",children:[(0,u.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,u.jsx)("label",{className:"text-sm text-gray-400",htmlFor:"name",children:"First Name"}),(0,u.jsx)(o.gN,{className:"border px-3 py-2 rounded bg-gray-100 font-medium",type:"text",name:"firstName",id:"firstName",value:s.firstName,onChange:a}),(0,u.jsx)(o.Bc,{name:"firstName",component:"small",className:"error font-semibold text-red-500"})]}),(0,u.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,u.jsx)("label",{className:"text-sm text-gray-400",htmlFor:"name",children:"Last Name"}),(0,u.jsx)(o.gN,{className:"border px-3 py-2 rounded bg-gray-100 font-medium",type:"text",name:"lastName",id:"lastName",value:s.lastName,onChange:a}),(0,u.jsx)(o.Bc,{name:"lastName",component:"small",className:"error font-semibold text-red-500"})]}),(0,u.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,u.jsx)("label",{className:"text-sm text-gray-400",htmlFor:"name",children:"Email Address"}),(0,u.jsx)(o.gN,{className:"border px-3 py-2 rounded bg-gray-100 font-medium",type:"text",name:"email",id:"email",value:null===t||void 0===t?void 0:t.email,onChange:a,disabled:j}),(0,u.jsx)(o.Bc,{name:"email",component:"small",className:"error font-semibold text-red-500"})]}),(0,u.jsx)("div",{className:"flex justify-center ",children:(0,u.jsx)("button",{className:"bg-sky-500 text-white px-9 py-1 rounded",children:"Edit"})})]})})}})]})})},h=function(e){var s=(0,i.useState)(),t=(0,a.Z)(s,2),r=t[0],d=t[1],o=(0,l.s0)();(0,i.useEffect)((function(){c().get("http://localhost:4500/addToCart/").then((function(e){d(e.data.length)}))}),[]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.h,{value:r}),(0,u.jsx)(f,{updateUser:function(e){!function(e,s){c().put("http://localhost:4500/user/"+e,s)}(e.id,e),o("/")}})]})}},1904:function(e,s,t){e.exports=t.p+"static/media/shopping-cart.eca5ee08f37494f3f691.png"}}]);
//# sourceMappingURL=563.a17efa6e.chunk.js.map